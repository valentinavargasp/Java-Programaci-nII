package gestorNotas;

public class Examen {
    private Alumno[] alumnos; // Array de alumnos
    private int cantidadAlumnos; // Cantidad de alumnos
    private int notaAprobacion; // Nota mínima de aprobación
    private int index; // Para llevar la cuenta de los alumnos ingresados

    // Constructor
    public Examen(int cantidadAlumnos, int notaAprobacion) {
        this.cantidadAlumnos = cantidadAlumnos;
        this.notaAprobacion = notaAprobacion;
        this.alumnos = new Alumno[cantidadAlumnos]; // Inicializa el array de alumnos
        this.index = 0; // Inicializa el índice
    }

    // Método para agregar un alumno
    public void agregarAlumno(Alumno alumno) {
        if (index < cantidadAlumnos) {
            alumnos[index] = alumno; // Agrega el alumno al array
            index++; // Incrementa el índice
        } else {
            System.out.println("No se pueden agregar más alumnos");
        }
    }

    // Método para mostrar los datos de los alumnos
    public void mostrarDatos() {
        for (int i = 0; i < index; i++) {
            System.out.println("Nombre: " + alumnos[i].getNombre());
            String[] materias = alumnos[i].getMaterias();
            int[] notas = alumnos[i].getNotas();
            for (int j = 0; j < materias.length; j++) {
                String estado = (notas[j] >= notaAprobacion) ? "APROBADA" : "REPROBADA";
                System.out.println("Materia: " + materias[j] + " - Nota: " + notas[j] + " - Estado: " + estado);
            }
            System.out.println("Promedio: " + calcularPromedio(notas));
            System.out.println();
        }
    }

    public void mostrarPromedioAlumnos() {
        for (int i = 0; i < index; i++) {
            int[] notas = alumnos[i].getNotas();
            double promedio = calcularPromedio(notas);
            System.out.println("Promedio de " + alumnos[i].getNombre() + ": " + promedio);
        }
    }

}

